<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>readme.html</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<pre># mimic-response [![Build Status](https://travis-ci.com/sindresorhus/mimic-response.svg?branch=master)](https://travis-ci.com/sindresorhus/mimic-response)

&gt; Mimic a [Node.js HTTP response stream](https://nodejs.org/api/http.html#http_class_http_incomingmessage)

## Install

```
$ npm install mimic-response
```

## Usage

```js
const stream = require(&#x27;stream&#x27;);
const mimicResponse = require(&#x27;mimic-response&#x27;);

const responseStream = getHttpResponseStream();
const myStream = new stream.PassThrough();

mimicResponse(responseStream, myStream);

console.log(myStream.statusCode);
//=&gt; 200
```

## API

### mimicResponse(from, to)

**Note #1:** The `from.destroy(error)` function is not proxied. You have to call it manually:

```js
const stream = require(&#x27;stream&#x27;);
const mimicResponse = require(&#x27;mimic-response&#x27;);

const responseStream = getHttpResponseStream();

const myStream = new stream.PassThrough({
	destroy(error, callback) {
		responseStream.destroy();

		callback(error);
	}
});

myStream.destroy();
```

Please note that `myStream` and `responseStream` never throws. The error is passed to the request instead.

#### from

Type: `Stream`

[Node.js HTTP response stream.](https://nodejs.org/api/http.html#http_class_http_incomingmessage)

#### to

Type: `Stream`

Any stream.

## Related

- [mimic-fn](https://github.com/sindresorhus/mimic-fn) - Make a function mimic another one
- [clone-response](https://github.com/lukechilds/clone-response) - Clone a Node.js response stream

---

&lt;div align=&quot;center&quot;&gt;
	&lt;b&gt;
		&lt;a href=&quot;https://tidelift.com/subscription/pkg/npm-mimic-response?utm_source=npm-mimic-response&amp;utm_medium=referral&amp;utm_campaign=readme&quot;&gt;Get professional support for this package with a Tidelift subscription&lt;/a&gt;
	&lt;/b&gt;
	&lt;br&gt;
	&lt;sub&gt;
		Tidelift helps make open source sustainable for maintainers while giving companies&lt;br&gt;assurances about security, maintenance, and licensing for their dependencies.
	&lt;/sub&gt;
&lt;/div&gt;
</pre>
</body>
</html>