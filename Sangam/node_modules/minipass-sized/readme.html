<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>readme.html</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<pre># minipass-sized

A Minipass stream that raises an error if you get a different number of
bytes than expected.

## USAGE

Use just like any old [minipass](http://npm.im/minipass) stream, but
provide a `size` option to the constructor.

The `size` option must be a positive integer, smaller than
`Number.MAX_SAFE_INTEGER`.

```js
const MinipassSized = require(&#x27;minipass-sized&#x27;)
// figure out how much data you expect to get
const expectedSize = +headers[&#x27;content-length&#x27;]
const stream = new MinipassSized({ size: expectedSize })
stream.on(&#x27;error&#x27;, er =&gt; {
  // if it&#x27;s the wrong size, then this will raise an error with
  // { found: &lt;number&gt;, expect: &lt;number&gt;, code: &#x27;EBADSIZE&#x27; }
})
response.pipe(stream)
```

Caveats: this does not work with `objectMode` streams, and will throw a
`TypeError` from the constructor if the size argument is missing or
invalid.
</pre>
</body>
</html>